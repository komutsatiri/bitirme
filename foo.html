<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Bitirme</title>	

<link rel="stylesheet" href="./css/foo.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0-beta.2/leaflet.css" />
<link rel="stylesheet" href="./dist/MarkerCluster.css" />
<link rel="stylesheet" href="./dist/MarkerCluster.Default.css" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0-beta.2/leaflet.js"></script>
<script src="./dist/leaflet.markercluster-src.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>


<!--<link rel="stylesheet" type="text/css" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
<link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/MarkerCluster.css" />
<link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/MarkerCluster.Default.css" />


<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
<script type='text/javascript' src='http://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/0.4.0/leaflet.markercluster.js'></script>
-->


</head>
<body>
<div id="mapid"></div>

<script>
$(document).ready(function(){

	var map = L.map('mapid').setView([38.99357, 35.24414], 6);
	var marker_cluster = new L.MarkerClusterGroup();

	L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
		attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
    	maxZoom: 10,
    	minZoom: 4
	}).addTo(map);

	
	$.getJSON("./events.json",{
		format: "json"
	})	
		.done(function(data){
			var key;
			for (key in data){
				var marker = L.marker([ data[key]['latitude'], data[key]['longitude'] ]).bindPopup(data[key]['where_description']);
				//console.log(data[key]['latitude']);
				marker_cluster.addLayer(marker);
				if (key == 100){
					continue;
				}
				
			}
		
		});	
		map.addLayer(marker_cluster);
});
</script>
</body>
</html>
